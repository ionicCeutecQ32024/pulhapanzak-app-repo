"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[700],{7700:(F,_,s)=>{s.r(_),s.d(_,{LoginPage:()=>O});var g=s(467),n=s(3953),c=s(177),u=s(9228),i=s(4341),r=s(6563),p=s(3767);const d=o=>({borderInputInvalid:o});function f(o,a){1&o&&(n.j41(0,"span"),n.EFF(1,"El campo es requerido"),n.k0s())}function h(o,a){1&o&&(n.j41(0,"span"),n.EFF(1,"Ingrese un correo v\xe1lido"),n.k0s())}function P(o,a){if(1&o&&(n.j41(0,"ion-note",15),n.DNE(1,f,2,0,"span",16)(2,h,2,0,"span",16),n.k0s()),2&o){const l=n.XpG();n.R7$(),n.Y8G("ngIf",l.isEmailRequired),n.R7$(),n.Y8G("ngIf",l.isEmailValid)}}function C(o,a){1&o&&(n.j41(0,"ion-note",15),n.EFF(1,"El campo es requerido"),n.k0s())}function E(o,a){1&o&&n.nrm(0,"ion-spinner",17)}let O=(()=>{var o;class a{constructor(){this._authService=(0,n.WQX)(p.u),this._router=(0,n.WQX)(u.Ix),this._toasController=(0,n.WQX)(r.K_),this.asteriscoReq="*",this.textBtnRegister="Iniciar Sesi\xf3n",this.spinner=!1,this.disabled=!1,this.formBuilder=(0,n.WQX)(i.ok),this.loginDto={},this.loginForm=this.formBuilder.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required]]})}get isFormValid(){return this.loginForm.invalid}get isEmailRequired(){const e=this.loginForm.get("email");return!!e&&e.hasError("required")&&e.touched}get isEmailValid(){const e=this.loginForm.get("email");return!!e&&e.hasError("email")&&e.touched}get isPasswordRequired(){const e=this.loginForm.get("password");return!!e&&e.hasError("required")&&e.touched}onSuubmit(){var e=this;this.isFormValid||(this.disabled=!0,this.textBtnRegister="Ingresando",this.loginDto=this.loginForm.value,console.log("Datos:",this.loginDto),this.spinner=!0,this._authService.login(this.loginDto).then((0,g.A)(function*(){e.spinner=!1,e.loginForm.reset(),e._router.navigate(["/tabs/home"]),yield e.showAlert("Ingreso Satisfactorio",!1)})).catch((0,g.A)(function*(){e.spinner=!0,yield e.showAlert("Usuario o contrase\xf1a son incorrectas",!0)}))),setTimeout(()=>{this.disabled=!1,this.spinner=!1,this.textBtnRegister="Ingresar"},5e3)}showAlert(e,t=!1){var m=this;return(0,g.A)(function*(){(yield m._toasController.create({message:e,duration:4e3,color:t?"danger":"success"})).present()})()}}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:36,vars:15,consts:[[1,"fondoLogin",3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ngSubmit","formGroup"],[1,"asterisc"],["type","email","formControlName","email","placeholder","ej: luis@gmail.com",3,"ngClass"],["class","form-error-message",4,"ngIf"],["type","password","formControlName","password","placeholder","ej: H0ndur@$_2024#",3,"ngClass"],["color","medium","slot","end"],["href","#"],[1,"formFooter"],["type","submit",1,"btnLogin",3,"disabled"],["color","dark","class","spinner",4,"ngIf"],[1,"registrarse"],["href","/register"],[1,"form-error-message"],[4,"ngIf"],["color","dark",1,"spinner"]],template:function(e,t){1&e&&(n.j41(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar"),n.nrm(3,"ion-title",2),n.k0s()(),n.j41(4,"h1"),n.EFF(5,"Bienvenido, Ingresa!"),n.k0s(),n.j41(6,"form",3),n.bIt("ngSubmit",function(){return t.onSuubmit()}),n.j41(7,"ion-item")(8,"div")(9,"ion-label"),n.EFF(10,"Correo electronico "),n.j41(11,"span",4),n.EFF(12),n.k0s()(),n.nrm(13,"ion-input",5),n.DNE(14,P,3,2,"ion-note",6),n.k0s()(),n.j41(15,"ion-item")(16,"div")(17,"ion-label"),n.EFF(18,"Contrase\xf1a "),n.j41(19,"span",4),n.EFF(20),n.k0s()(),n.j41(21,"ion-input",7),n.nrm(22,"ion-input-password-toggle",8),n.k0s(),n.DNE(23,C,2,0,"ion-note",6),n.k0s()(),n.j41(24,"div")(25,"a",9),n.EFF(26,"\xbfOlvidaste tu contrase\xf1a?"),n.k0s()(),n.j41(27,"div",10)(28,"button",11),n.DNE(29,E,1,0,"ion-spinner",12),n.EFF(30),n.k0s()(),n.j41(31,"div",13)(32,"p"),n.EFF(33,"\xbfNo tienes Cuenta?"),n.k0s(),n.j41(34,"a",14),n.EFF(35,"Registrate ahora"),n.k0s()()()()),2&e&&(n.Y8G("fullscreen",!0),n.R7$(6),n.Y8G("formGroup",t.loginForm),n.R7$(6),n.JRh(t.asteriscoReq),n.R7$(),n.Y8G("ngClass",n.eq3(11,d,t.isEmailValid)),n.R7$(),n.Y8G("ngIf",t.isEmailRequired||t.isEmailValid),n.R7$(6),n.JRh(t.asteriscoReq),n.R7$(),n.Y8G("ngClass",n.eq3(13,d,t.isPasswordRequired)),n.R7$(2),n.Y8G("ngIf",t.isPasswordRequired),n.R7$(5),n.Y8G("disabled",t.isFormValid||t.disabled),n.R7$(),n.Y8G("ngIf",t.spinner),n.R7$(),n.SpI(" ",t.textBtnRegister," "))},dependencies:[r.W9,i.YN,i.qT,i.BC,i.cb,r.eU,r.BC,r.ai,c.MD,c.YU,c.bT,r.$w,r.he,r.uz,r.w2,i.X1,i.j4,i.JD,r.JI,r.Wv],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: none}h1[_ngcontent-%COMP%]{padding-bottom:10px;color:#fff;margin-left:10px;font-weight:700}.asterisc[_ngcontent-%COMP%]{color:red}ion-item[_ngcontent-%COMP%]{--background: none;opacity:1}ion-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}ion-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .borderInputInvalid[_ngcontent-%COMP%]{margin-block:2px;border:2px solid #ff0000;border-radius:9px}form[_ngcontent-%COMP%]{margin-top:140px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:25px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1f7995;text-align:end;display:block;margin-right:10px;font-style:italic}form[_ngcontent-%COMP%]   .formFooter[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;--background: fixed}form[_ngcontent-%COMP%]   .formFooter[_ngcontent-%COMP%]   .btnLogin[_ngcontent-%COMP%]{width:300px;height:50px;font-weight:600;color:#0e2e38;border-radius:50px!important;background-color:#26a7ce}form[_ngcontent-%COMP%]   .formFooter[_ngcontent-%COMP%]   .btnLogin[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{margin-right:10px}form[_ngcontent-%COMP%]   .registrarse[_ngcontent-%COMP%]{margin-top:5px;justify-content:center;align-items:center;display:flex}form[_ngcontent-%COMP%]   .registrarse[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px;font-weight:600}"]}),a})()}}]);